Simple CRUD Yii2 AngularJs
==========================================================

Aplikasi CRUD sederhana yang dibangun dengan PHP Framework Yii2 dan Javascript Framework AngularJs

Aplikasi ini menggunakan prinsip IoC(Inversion Of Control) atau Dependency Injection, Repository
Pattern dan SOLID pattern (masih diteliti kebenarannya :D).

DIRECTORY STRUCTURE
-------------------

      assets/                       contains assets definition
      commands/                     contains console commands (controllers)
      config/                       contains application configurations
      controllers/                  contains Web controller classes
      mail/                         contains view files for e-mails
      runtime/                      contains files generated during runtime
      SchoolApp/
            Events/                 contains event handler
            Exceptions/             contains exceptions
            Repositories/           contains database repositories
                    ActiveRecord/
            Services/
                    Forms/          contains form services
      tests/                        contains various tests for the basic application
      vendor/                       contains dependent 3rd-party packages
      views/                        contains view files for the Web application
      web/                          contains the entry script and Web resources


Jangan lupa pada file ```web\index.php``` tambahkan code dibawah ini untuk Memanage IoC Container

```php
    \Yii::$container->set('app\SchoolApp\Repositories\StudentInterface', 'app\SchoolApp\Repositories\ActiveRecord\StudentRepository');
```


REQUIREMENTS
------------

The minimum requirement by this application template that your Web server supports PHP 5.4.0.


CONFIGURATION
-------------

### Database

Edit the file `config/db.php` with real data, for example:

```php
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=app_school',
    'username' => 'root',
    'password' => '1234',
    'charset' => 'utf8',
];
```
### Create Database
```
-- ----------------------------
-- Table structure for `students`
-- ----------------------------
DROP TABLE IF EXISTS `students`;
CREATE TABLE `students` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nama` varchar(255) DEFAULT NULL,
  `jenis_kelamin` varchar(20) DEFAULT NULL,
  `alamat` varchar(255) DEFAULT NULL,
  `nomer_telepon` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
```

### Nginx Server

```
server {
    listen 127.0.0.1:80;

    server_name yii-angularjs.dev www.yii-angularjs.dev;
    root your/path/basic/app/template/web;
    index index.php index.html;

    charset utf-8;
    client_max_body_size 128M;

    location / {
        try_files $uri $uri/ /index.php?$args;

    }

    location ~ \.php$ {
    	fastcgi_pass 127.0.0.1:9054;
	    fastcgi_index index.php;
	    fastcgi_param SCRIPT_FILENAME $document_root/$fastcgi_script_name;
	    include fastcgi_params;
    }

    location ~* \.(js|css|less|png|jpg|jpeg|gif|ico|woff|ttf|svg|tpl)$ {
        expires 24h;
        access_log off;
    }

    location = /favicon.ico {
        log_not_found off;
        access_log off;
    }

    location = /robots.txt {
        log_not_found off;
        access_log off;
    }

    location ~ /\. {
        deny all;
        access_log off;
        log_not_found off;
    }
}
```

**NOTE:** Sengaja membuat aplikasi ini tanpa menggunakan CRUD Generator dari Gii agar saya sendiri faham alur kerja dari framework
ini. Maklum saya belum genap 1 minggu belajar Yii2 ini, hanya bermodal Guide dan liat code didalamnya.

### CURHAT
Jujur saya kurang begitu puas dengan hasil dari output query Yii yang sulit saya fahami(karena terbatasnya kemampuan saya - alasan pribadi).
Misal untuk menampilkan data dengan pagination yang dengan mudah diolah di frontend misal jika menggunakan AngualrJs atau framework MVC lainnya.

Oleh sebab itu saya coba membuat outputnya sama dengan ```Eloquent``` punya framework Laravel yang defaultnya adalah ```json```,
untuk membuatnya sih simple tinggal set output yang akan dikeluarkan menjadi ```json``` bisa dilihat pada file ```AbstractRepository.php``` dan ```StudentRepository.php```

Hasilnya akan menjadi seperti dibawah ini :

```
{
    "total": "2",
    "per_page": 10,
    "current_page": 1,
    "last_page": 1,
    "from": 1,
    "to": 2,
    "data": [
            {
                "id": 1,
                "nama": "Edi Santoso",
                "kelas": "1A",
                "umur": 19
            },
            {
                "id": 2,
                "nama": "Fahmi Al Fahreza",
                "kelas": "2A",
                "umur": 18
            }
    ]
}
```




AUTHOR
------


Twitter [@cyberid41](http://twitter.com/cyberid41)

Facebook [cyberid41](http://facebook.com/cyberid41)

Email [edicyber@gmail.com](mailto:edicyebr@gmail.com)
